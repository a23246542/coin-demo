.css3d-coin-rain-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  pointer-events: none;
  z-index: 10;
  perspective: 1000px; /* 3D 視角深度 */
}

.css3d-coin {
  position: absolute;
  width: 60px;
  height: 60px;
  transform-style: preserve-3d; /* 保持子元素的 3D 位置 */
  animation: css3d-fall linear forwards;
  will-change: transform, opacity;
}

/* 金幣的面 - 基礎樣式 */
.css3d-coin-face {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: #ffe066;
  font-size: 32px;
  box-sizing: border-box;
  box-shadow: 0 2px 8px #b8860b inset, 0 0 0 #fff, 0 0 12px #fff8dc inset;
  text-shadow: 0 2px 6px #b8860b, 0 0 0 #fff, 0 0 8px #fff8dc;
  background: none;
}

/* 金幣正面 */
.css3d-coin-front {
  background: radial-gradient(
    circle at 30% 30%,
    #fffbe6 18%,
    #ffe066 40%,
    #ffc107 70%,
    #b8860b 100%
  );
  transform: translateZ(3px);
  border: 4px solid #ffe066;
  box-shadow: 0 0 12px #ffe066, 0 2px 8px #b8860b inset;
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%; /* 確保背景為正圓形 */
  aspect-ratio: 1 / 1; /* 強制寬高比為1:1，防止拉長 */
}

/* 金幣背面 */
.css3d-coin-back {
  background: radial-gradient(
    circle at 70% 70%,
    #fffbe6 18%,
    #ffe066 40%,
    #ffc107 70%,
    #b8860b 100%
  );
  transform: rotateY(180deg) translateZ(3px);
  border: 4px solid #ffe066;
  box-shadow: 0 0 12px #ffe066, 0 2px 8px #b8860b inset;
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%; /* 確保背景為正圓形 */
  aspect-ratio: 1 / 1; /* 強制寬高比為1:1，防止拉長 */
}

/* 金幣側面容器 - 確保完美圓形 */
.css3d-coin-edge-container {
  position: absolute;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  border-radius: 50%;
}

/* 金幣側面 - 圓柱形效果 */
.css3d-coin-edge {
  position: absolute;
  width: 10px;
  height: 100%;
  background: linear-gradient(to right, #ffe066 0%, #ffc107 40%, #b8860b 100%);
  left: 50%;
  margin-left: -5px;
  transform-origin: 50% 50%;
  top: 0;
  border-radius: 8px;
  box-shadow: 0 0 4px #b8860b inset;
  opacity: 0.95;
}

/* 創建 36 個邊緣片段模擬圓柱形 (增加數量使邊緣更圓滑) */
.css3d-coin-edge-0 {
  transform: rotateY(0deg) translateZ(28px);
}
.css3d-coin-edge-1 {
  transform: rotateY(10deg) translateZ(28px);
}
.css3d-coin-edge-2 {
  transform: rotateY(20deg) translateZ(28px);
}
.css3d-coin-edge-3 {
  transform: rotateY(30deg) translateZ(28px);
}
.css3d-coin-edge-4 {
  transform: rotateY(40deg) translateZ(28px);
}
.css3d-coin-edge-5 {
  transform: rotateY(50deg) translateZ(28px);
}
.css3d-coin-edge-6 {
  transform: rotateY(60deg) translateZ(28px);
}
.css3d-coin-edge-7 {
  transform: rotateY(70deg) translateZ(28px);
}
.css3d-coin-edge-8 {
  transform: rotateY(80deg) translateZ(28px);
}
.css3d-coin-edge-9 {
  transform: rotateY(90deg) translateZ(28px);
}
.css3d-coin-edge-10 {
  transform: rotateY(100deg) translateZ(28px);
}
.css3d-coin-edge-11 {
  transform: rotateY(110deg) translateZ(28px);
}
.css3d-coin-edge-12 {
  transform: rotateY(120deg) translateZ(28px);
}
.css3d-coin-edge-13 {
  transform: rotateY(130deg) translateZ(28px);
}
.css3d-coin-edge-14 {
  transform: rotateY(140deg) translateZ(28px);
}
.css3d-coin-edge-15 {
  transform: rotateY(150deg) translateZ(28px);
}
.css3d-coin-edge-16 {
  transform: rotateY(160deg) translateZ(28px);
}
.css3d-coin-edge-17 {
  transform: rotateY(170deg) translateZ(28px);
}
.css3d-coin-edge-18 {
  transform: rotateY(180deg) translateZ(28px);
}
.css3d-coin-edge-19 {
  transform: rotateY(190deg) translateZ(28px);
}
.css3d-coin-edge-20 {
  transform: rotateY(200deg) translateZ(28px);
}
.css3d-coin-edge-21 {
  transform: rotateY(210deg) translateZ(28px);
}
.css3d-coin-edge-22 {
  transform: rotateY(220deg) translateZ(28px);
}
.css3d-coin-edge-23 {
  transform: rotateY(230deg) translateZ(28px);
}
.css3d-coin-edge-24 {
  transform: rotateY(240deg) translateZ(28px);
}
.css3d-coin-edge-25 {
  transform: rotateY(250deg) translateZ(28px);
}
.css3d-coin-edge-26 {
  transform: rotateY(260deg) translateZ(28px);
}
.css3d-coin-edge-27 {
  transform: rotateY(270deg) translateZ(28px);
}
.css3d-coin-edge-28 {
  transform: rotateY(280deg) translateZ(28px);
}
.css3d-coin-edge-29 {
  transform: rotateY(290deg) translateZ(28px);
}
.css3d-coin-edge-30 {
  transform: rotateY(300deg) translateZ(28px);
}
.css3d-coin-edge-31 {
  transform: rotateY(310deg) translateZ(28px);
}
.css3d-coin-edge-32 {
  transform: rotateY(320deg) translateZ(28px);
}
.css3d-coin-edge-33 {
  transform: rotateY(330deg) translateZ(28px);
}
.css3d-coin-edge-34 {
  transform: rotateY(340deg) translateZ(28px);
}
.css3d-coin-edge-35 {
  transform: rotateY(350deg) translateZ(28px);
}

/* $ 符號樣式 */
.css3d-coin-symbol {
  font-size: 32px;
  line-height: 1; /* 確保垂直置中 */
  color: #ffe066;
  text-shadow: 0 2px 8px #b8860b, 0 0 0 #fff, 0 0 8px #fff8dc;
  filter: drop-shadow(0 0 2px #fffbe6);
}

/* 金幣掉落和旋轉動畫 */
@keyframes css3d-fall {
  0% {
    transform: translateY(-100px) rotateY(0deg) rotateX(10deg);
    opacity: 1;
  }

  80% {
    opacity: 1;
  }

  100% {
    transform: translateY(calc(100vh + 100px)) rotateY(720deg) rotateX(10deg);
    opacity: 0;
  }
}
